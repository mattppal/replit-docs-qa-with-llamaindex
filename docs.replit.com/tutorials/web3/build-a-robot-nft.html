<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorials/web3/build-a-robot-nft">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Robot NFT Part 1: on Ethereum blockchain | Replit Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.replit.com/tutorials/web3/build-a-robot-nft"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:image" content="https://pbs.twimg.com/card_img/1622937266980093953/r1yP8OZZ?format=png&amp;name=small"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Robot NFT Part 1: on Ethereum blockchain | Replit Docs"><meta data-rh="true" name="description" content="Non-fungible tokens (NFTs) have been a source of much news and speculation over the past few years. Their most widely known use case has been the sale of digital art assets, commonly used as profile pictures. The most famous examples are CryptoPunks and Bored Apes."><meta data-rh="true" property="og:description" content="Non-fungible tokens (NFTs) have been a source of much news and speculation over the past few years. Their most widely known use case has been the sale of digital art assets, commonly used as profile pictures. The most famous examples are CryptoPunks and Bored Apes."><link data-rh="true" rel="icon" href="../../image/favicon-2.png"><link data-rh="true" rel="canonical" href="build-a-robot-nft.html"><link data-rh="true" rel="alternate" href="build-a-robot-nft.html" hreflang="en"><link data-rh="true" rel="alternate" href="build-a-robot-nft.html" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="../../updates/rss.xml" title="Replit Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="../../updates/atom.xml" title="Replit Docs Atom Feed">




<script>!function(){var e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],e.factory=function(t){return function(){var o=Array.prototype.slice.call(arguments);return o.unshift(t),e.push(o),e}};for(var t=0;t<e.methods.length;t++){var o=e.methods[t];e[o]=e.factory(o)}e.load=function(t,o){var r=document.createElement("script");r.type="text/javascript",r.defer=!0,r.src="https://sp.replit.com/sdk.js/v1/"+t+"/sdk.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(r,n),e._loadOptions=o},e.SNIPPET_VERSION="4.15.3",e.load("dne7BWxTufWARK8acyNrH72I5y7ybaQ7",{integrations:{"Segment.io":{apiHost:"sp.replit.com/v1"}}}),e.page("docs")}}()</script><link rel="stylesheet" href="../../assets/css/styles.2ca24b24.css">
<link rel="preload" href="../../assets/js/runtime~main.01d4cfda.js" as="script">
<link rel="preload" href="../../assets/js/main.495109c2.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div class="replit-extension"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="build-a-robot-nft.html#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://replit.com" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="../../image/logoLight.png" alt="Replit Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="../../image/logoDark.svg" alt="Replit Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" target="_self" href="../../index.html">Docs</a><a class="navbar__item navbar__link" target="_self" href="../../updates.html">Changelog</a><a class="navbar__item navbar__link" target="_self" href="../../extensions.html">Extensions</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div><div class="navbar__item"><a href="https://replit.com/signup" target="_blank" class="sign-up-button">Sign Up</a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_eExm docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a href="https://replit.com" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_isFc"><img src="../../image/logoLight.png" alt="Replit Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="../../image/logoDark.svg" alt="Replit Logo" class="themedImage_ToTc themedImage--dark_i4oU"></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/getting-started.html">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/the-replit-workspace.html">The Replit Workspace</a><button aria-label="Toggle the collapsible sidebar category &#x27;The Replit Workspace&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/power-ups.html">Power Ups</a><button aria-label="Toggle the collapsible sidebar category &#x27;Power Ups&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/hosting.html">Hosting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hosting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/cycles.html">Cycles</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cycles&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/themes.html">Themes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Themes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/bounties.html">Bounties</a><button aria-label="Toggle the collapsible sidebar category &#x27;Bounties&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/extensions.html">Extensions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Extensions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/mobile-app.html">Mobile App</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mobile App&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../model-farm/index.html">ModelFarm</a><button aria-label="Toggle the collapsible sidebar category &#x27;ModelFarm&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/organizations.html">Organizations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Organizations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/teams-for-education.html">Teams for Education</a><button aria-label="Toggle the collapsible sidebar category &#x27;Teams for Education&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/teams-pro.html">Teams Pro</a><button aria-label="Toggle the collapsible sidebar category &#x27;Teams Pro&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="../overview.html">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="../../category/replit--nix.html">Replit &amp; Nix</a><button aria-label="Toggle the collapsible sidebar category &#x27;Replit &amp; Nix&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="../../category/python.html">Python</a><button aria-label="Toggle the collapsible sidebar category &#x27;Python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="../../category/nodejs.html">Node.js</a><button aria-label="Toggle the collapsible sidebar category &#x27;Node.js&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="../../category/kaboomjs.html">Kaboom.js</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kaboom.js&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="../../category/web3.html">Web3</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web3&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="build-a-robot-nft-p2.html">Robot NFT Part 2: Frontend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="build-a-robot-nft.html">Robot NFT Part 1: on Ethereum blockchain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="build-smart-contract-oracle.html">Smart contract oracle with Solidity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="escrow-contract-with-solidity.html">Escrow contract with Solidity</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="../../category/html-css-and-js.html">HTML, CSS, and JS</a><button aria-label="Toggle the collapsible sidebar category &#x27;HTML, CSS, and JS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="../../category/miscellanious.html">Miscellanious</a><button aria-label="Toggle the collapsible sidebar category &#x27;Miscellanious&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/teaching-curriculum.html">Teaching Curriculum</a><button aria-label="Toggle the collapsible sidebar category &#x27;Teaching Curriculum&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/replit-books.html">Replit Books</a><button aria-label="Toggle the collapsible sidebar category &#x27;Replit Books&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="../../category/legal-and-security-info.html">Legal and Security Info</a><button aria-label="Toggle the collapsible sidebar category &#x27;Legal and Security Info&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="../../index.html"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="../overview.html"><span itemprop="name">Tutorials</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="../../category/web3.html"><span itemprop="name">Web3</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Robot NFT Part 1: on Ethereum blockchain</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Build a robot NFT on the Ethereum blockchain with Solidity and Replit (part 1)</h1><p>Non-fungible tokens (NFTs) have been a source of much news and speculation over the past few years. Their most widely known use case has been the sale of digital art assets, commonly used as profile pictures. The most famous examples are <a href="https://www.larvalabs.com/cryptopunks" target="_blank" rel="noopener noreferrer">CryptoPunks</a> and <a href="https://boredapeyachtclub.com/#/" target="_blank" rel="noopener noreferrer">Bored Apes</a>.</p><p>While many NFTs are collections of pre-generated artwork, some incorporate a dynamic generative aspect, in which the art is created on the fly as individual tokens are minted. This is very feasible for profile picture NFTs, which often consist of a single base image in a variety of colors and with different features and accessories. In some cases, such as <a href="https://www.cryptokitties.co/" target="_blank" rel="noopener noreferrer">CryptoKitties</a>, new child tokens can be created by &quot;breeding&quot; existing tokens, giving the child token characteristics of both parents.</p><p>In this two-part tutorial, we&#x27;ll create a simple generative art NFT, ReplBots. The first part of the tutorial will focus on the NFT&#x27;s Ethereum smart contract, and the second part will focus on building the web frontend, or dApp. In this tutorial, you&#x27;ll:</p><ul><li>Learn how to create a generative art NFT on the Ethereum blockchain.</li><li>Learn important smart contract development concepts, such as randomness.</li><li>Learn how to interact with the blockchain from frontend JavaScript code.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getting-started">Getting started<a href="build-a-robot-nft.html#getting-started" class="hash-link" aria-label="Direct link to Getting started" title="Direct link to Getting started">​</a></h2><p>We need two things to get started with this project: a Solidity repl and a browser wallet.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="solidity-repl">Solidity repl<a href="build-a-robot-nft.html#solidity-repl" class="hash-link" aria-label="Direct link to Solidity repl" title="Direct link to Solidity repl">​</a></h3><p>Sign in to <a href="https://replit.com" target="_blank" rel="noopener noreferrer">Replit</a> or <a href="https://replit.com/signup" target="_blank" rel="noopener noreferrer">create an account</a> if you haven&#x27;t already. Once logged in, create a Solidity starter repl.</p><p><img loading="lazy" src="https://docimg.replit.com/images/tutorials/42-robot-nft-ethereum/solidity-repl.png" alt="Creating a new Repl" class="img_ev3q"></p><p>The Solidity starter repl works a little differently from other repls you may have used in the past. Rather than running our repl every time we want to test out a new piece of code, we can run our repl once, to start it up, and it will automatically reload when changes are made to our Solidity code in <code>contract.sol</code>.</p><p>The Solidity starter repl comes with a friendly web interface, built using the <a href="https://web3js.readthedocs.io/en/v1.5.2/" target="_blank" rel="noopener noreferrer">web3 Ethereum JavaScript API</a>, which we will use to deploy and interact with our contracts. We will deploy to Replit Testnet, a custom version of the Ethereum blockchain managed by Replit and optimised for testing.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browser-wallet">Browser wallet<a href="build-a-robot-nft.html#browser-wallet" class="hash-link" aria-label="Direct link to Browser wallet" title="Direct link to Browser wallet">​</a></h3><p>We will need a browser-based web3 wallet to interact with the Replit Testnet and our deployed contracts. <a href="https://metamask.io" target="_blank" rel="noopener noreferrer">MetaMask</a> is a popular and feature-rich wallet implemented as a WebExtension. You can install it from MetaMask&#x27;s <a href="https://metamask.io/download/" target="_blank" rel="noopener noreferrer">download page</a>. Make sure you&#x27;re using a supported browser – either Chrome, Firefox, Brave, or Edge.</p><p>Once you&#x27;ve installed MetaMask, follow the prompts to create a wallet and sign in. MetaMask will give you a 12-word <em>secret recovery phrase</em> – this is your wallet&#x27;s private key, and must be kept safe and secret. If you lose this phrase, you will not be able to access your wallet. If someone else finds it, they will.</p><p>If you&#x27;re already using MetaMask, we recommend creating a new account for testing with Replit. You can do this from the account menu, which appears when you click on the account avatar in the top right corner of the MetaMask interface.</p><p><img loading="lazy" src="https://docimg.replit.com/images/tutorials/42-robot-nft-ethereum/createaccount.png" alt="Create new metamask account" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="introduction-to-smart-contract-development">Introduction to smart contract development<a href="build-a-robot-nft.html#introduction-to-smart-contract-development" class="hash-link" aria-label="Direct link to Introduction to smart contract development" title="Direct link to Introduction to smart contract development">​</a></h2><p>Feel free to skip this section if you&#x27;ve written Solidity contracts before or completed <a href="escrow-contract-with-solidity.html">our escrow tutorial</a>.</p><p>Now that we&#x27;ve got our repl and wallet set up, we can start developing. We will be writing contracts, which are the basic building blocks of Ethereum programs. An individual contract can have state variables and functions and can inherit from multiple other contracts. Contracts in Solidity are equivalent to classes in a language like Python or Java.</p><p>Contracts on Ethereum and Ethereum-based networks (such as the Replit Testnet and Binance Chain) are compiled to bytecode which runs on the <a href="https://ethereum.org/en/developers/docs/evm/" target="_blank" rel="noopener noreferrer">Ethereum Virtual Machine</a> (EVM). This is similar to how Java code compiles to bytecode for the JVM.</p><p>A list of opcodes for EVM is provided <a href="https://ethervm.io/" target="_blank" rel="noopener noreferrer">here</a>. Many of the opcodes dealing with arithmetic and logical operations should be familiar if you&#x27;ve worked with any kind of assembly before. The EVM also has opcodes for blockchain-specific operations, such as getting information about the current block or chain.</p><p>An additional consideration, unique to blockchain development, is that each opcode has an associated price (<a href="https://docs.google.com/spreadsheets/d/1n6mRqkBz3iWcOlRem_mO09GtSKEKrAsfO7Frgx18pNU/edit#gid=0" target="_blank" rel="noopener noreferrer">listed here</a>). Users of smart contracts pay a fee (known as <a href="https://www.investopedia.com/terms/g/gas-ethereum.asp" target="_blank" rel="noopener noreferrer">gas</a>) to invoke state-changing functions. This fee is determined by the opcodes used, and so it is in the interest of developers to keep their code as simple as possible.</p><p>Solidity, which we will be using below, is the most popular language for developing smart contracts on Ethereum. Alternatives such as <a href="https://vyper.readthedocs.io/en/stable/" target="_blank" rel="noopener noreferrer">Vyper</a> exist but are not as widely used.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nft-design">NFT design<a href="build-a-robot-nft.html#nft-design" class="hash-link" aria-label="Direct link to NFT design" title="Direct link to NFT design">​</a></h2><p>Our ReplBot NFT will consist of a base robot and three accessories. The base robot looks like this:</p><p><img loading="lazy" src="https://docimg.replit.com/images/tutorials/42-robot-nft-ethereum/bothead-01.svg" alt="Base robot" class="img_ev3q"></p><p>Each NFT will have three different colors for its frame, visor, and background. Each NFT will also have three different accessories: headgear (a hat or wig), eargear (animal ears or headphones), and facegear (glasses or masks). Some examples:</p><p><img loading="lazy" src="https://docimg.replit.com/images/tutorials/42-robot-nft-ethereum/replbot-nft-1.svg" alt="NFT 1" class="img_ev3q"></p><p><img loading="lazy" src="https://docimg.replit.com/images/tutorials/42-robot-nft-ethereum/replbot-nft-2.svg" alt="NFT 2" class="img_ev3q"></p><p>Which colors and accessories each NFT has will be randomly determined at creation time.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="contract-code-scaffold">Contract code scaffold<a href="build-a-robot-nft.html#contract-code-scaffold" class="hash-link" aria-label="Direct link to Contract code scaffold" title="Direct link to Contract code scaffold">​</a></h2><p>Let&#x27;s start on our NFT contract code. Open <code>contract.sol</code>, delete the file&#x27;s contents, and add the following skeleton:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// // SPDX-License-Identifier: MIT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.8.8;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import &quot;@openzeppelin/contracts/token/ERC721/extensions/ERC721Enumerable.sol&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import &quot;@openzeppelin/contracts/utils/Strings.sol&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contract ReplBots is ERC721Enumerable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public tokenCounter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    constructor() ERC721(&quot;ReplBots&quot;, &quot;RBNFT&quot;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function mint(address recipient) public returns (uint256) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint tokenId = tokenCounter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tokenCounter++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _safeMint(recipient, tokenId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return tokenId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The first line of our contract is the <a href="https://docs.soliditylang.org/en/v0.6.8/layout-of-source-files.html#spdx-license-identifier" target="_blank" rel="noopener noreferrer">license identifier</a>. Smart contracts are usually open-source, and reuse of other projects&#x27; code is common in DeFi, so it&#x27;s a good idea to include a license that indicates how you would like others to use (or not use) your code. Supported licenses are <a href="https://spdx.org/licenses/" target="_blank" rel="noopener noreferrer">listed here</a>.</p><p>In the next line, we define the version of Solidity we&#x27;re using (in this case, any version newer than <a href="https://docs.soliditylang.org/en/v0.8.13/" target="_blank" rel="noopener noreferrer">0.8.13</a> up to 0.9.0). Solidity is an evolving language and often introduces breaking changes, so our code may not compile under older or newer versions of the language.</p><p>Following the pragma statement, we import some contracts from the OpenZeppelin contract library. This library includes inheritable base contracts for a wide variety of common smart contract development needs, including base implementations of Ethereum token standards.</p><p>The Ethereum token standard for NFTs is <a href="https://ethereum.org/en/developers/docs/standards/tokens/erc-721/" target="_blank" rel="noopener noreferrer">ERC-721</a>. Rather than implementing all of the functionality in this specification ourselves, we can import and use OpenZeppelin&#x27;s version. Note that while OpenZeppelin has a <a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC721/ERC721.sol" target="_blank" rel="noopener noreferrer">base <code>ERC721</code> contract</a>, we will use the <a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC721/extensions/ERC721Enumerable.sol" target="_blank" rel="noopener noreferrer"><code>ERC721Enumerable</code></a> extension/child contract, which, in addition to all the standard ERC-721 functionality, will allow us to list which NFTs belong to which owners. This functionality is vital for our front end.</p><p>We also use OpenZeppelin&#x27;s <a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/Strings.sol" target="_blank" rel="noopener noreferrer"><code>Strings</code></a> library, which provides some useful functions for working with strings.</p><p>Our contract definition indicates that we will inherit from <code>ERC721Enumerable</code>:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">contract ReplBots is ERC721Enumerable {</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the contract body, we define a <code>tokenCounter</code> state variable. This will provide us with unique, incrementing IDs for tokens as they are minted. Solidity automatically initializes all variables to 0, so we don&#x27;t need to do so explicitly.</p><p>Note the use of <a href="https://docs.soliditylang.org/en/v0.8.2/types.html#integers" target="_blank" rel="noopener noreferrer"><code>uint256</code></a> as the type for these values: Because most of the values we deal with in Solidity programs are monetary, we use unsigned integers to avoid storing negative numbers. In versions of Solidity before 0.8.0, this sometimes led to dangerous <a href="https://medium.com/haloblock/unit-underflows-and-overflows-ethereum-solidity-vulnerability-39a39355c422" target="_blank" rel="noopener noreferrer">overflows</a>, but <a href="https://docs.soliditylang.org/en/v0.8.0/080-breaking-changes.html" target="_blank" rel="noopener noreferrer">overflow protection is now built into the language</a>.</p><p>Next, we have the <code>constructor()</code> method, which calls <a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC721/ERC721.sol#L44" target="_blank" rel="noopener noreferrer">a parent constructor</a> to define our NFT&#x27;s name and symbol/stock ticker.</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    constructor() ERC721(&quot;ReplBots&quot;, &quot;RBNFT&quot;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We then define a <code>mint</code> function, so that we can create NFTs.</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    function mint(address recipient) public returns (uint256) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint tokenId = tokenCounter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tokenCounter++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _safeMint(recipient, tokenId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return tokenId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For now, all this does is increment <code>tokenCounter</code>, create a new token using <a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC721/ERC721.sol#L248" target="_blank" rel="noopener noreferrer"><code>ERC721._safeMint</code></a>, and return the numeric ID of the minted NFT. Using <code>_safeMint</code> instead of <code>_mint</code> will prevent us from minting tokens to a recipient that does not have an implemented method for receiving them. This will prevent our tokens from getting stuck in contract addresses and becoming unusable.</p><p>The <code>mint()</code> function is a <code>public</code> function, which means it can be called by both external users and by other functions in this contract, or any contracts that inherit from it. Solidity provides granular function and variable visibility options, which are <a href="https://bitsofco.de/solidity-function-visibility-explained/" target="_blank" rel="noopener noreferrer">explained here</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nft-data-structures">NFT data structures<a href="build-a-robot-nft.html#nft-data-structures" class="hash-link" aria-label="Direct link to NFT data structures" title="Direct link to NFT data structures">​</a></h2><p>Let&#x27;s fill out our code skeleton, starting with the data structures we&#x27;ll need to store information about each NFT we mint. As per our design, each NFT will have three accessories and three colors. We can represent the accessories as strings and the colors as RGB values.</p><p>We&#x27;ll start by defining a string array for each type of accessory. Add the following code above the <code>constructor</code> definition:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    string[] private headgear = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Cowboy Hat&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Fro&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Baseball Cap&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Viking Helmet&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string[] private eargear = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Bunny Ears&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Headphones&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string[] private facegear = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Sunglasses&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Moustache&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Nose&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;DOOM Mask&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Feel free to draw and add other accessories to these lists.</p><p>Next, we&#x27;ll create a <a href="https://docs.soliditylang.org/en/v0.8.10/types.html#structs" target="_blank" rel="noopener noreferrer">struct</a> for defining colors. Add this code below your array definitions:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    struct Color {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 red;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 green;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 blue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Each color will have a red, green, and blue component, represented as an 8-bit unsigned integer. Most unsigned integers we work with in contracts are 256-bit, to the point that Solidity provides the alias <code>uint</code> for <code>uint256</code>. However, it is good practice to use smaller values where possible, due to gas costs – this is known as <a href="https://fravoll.github.io/solidity-patterns/tight_variable_packing.html" target="_blank" rel="noopener noreferrer">tight variable packing</a>. An 8-bit unsigned integer can contain a value from 0 to 255, which is precisely the range we need for storing standard RGB values.</p><p>Next, we&#x27;ll create a struct for the ReplBot itself, consisting of our three colors and three accessories. Add this code below the previous struct definition:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    struct ReplBot {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color frame;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color visor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color background;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 head;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 ears;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 face;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To save space, we&#x27;ll store our accessory values as indexes in the arrays we defined above. <code>uint8</code> allows us to define a maximum of 255 accessories per type, which is more than enough.</p><p>Finally, we&#x27;ll define a <a href="https://docs.soliditylang.org/en/v0.8.2/types.html#mapping-types" target="_blank" rel="noopener noreferrer">mapping type</a> that will allow us to associate numeric token IDs with ReplBot structs. Add this line below your last struct definition:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    mapping (uint =&gt; ReplBot) private replbots;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="minting-nfts">Minting NFTs<a href="build-a-robot-nft.html#minting-nfts" class="hash-link" aria-label="Direct link to Minting NFTs" title="Direct link to Minting NFTs">​</a></h2><p>Now that we have our data structures in place, we can return to our <code>mint</code> function and expand it. Replace your <code>mint()</code> function&#x27;s body with the following code:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    function mint(address recipient) public returns (uint256) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Get ID and increment counter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint tokenId = tokenCounter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tokenCounter++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Determine colors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color memory frameCol = Color(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint8(_random(tokenId, &quot;QWERT&quot;) % 255),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint8(_random(tokenId, &quot;YUIOP&quot;) % 255),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint8(_random(tokenId, &quot;ASDFG&quot;) % 255));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color memory visorCol = Color(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint8(_random(tokenId, &quot;HJKL;&quot;) % 255),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint8(_random(tokenId, &quot;ZXCVB&quot;) % 255),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint8(_random(tokenId, &quot;BNM,.&quot;) % 255));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color memory backgroundCol = Color(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint8(_random(tokenId, &quot;12345&quot;) % 255),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint8(_random(tokenId, &quot;67890&quot;) % 255),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            uint8(_random(tokenId, &quot;[]{}&#x27;&quot;) % 255));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Determine accessories</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 headIdx = uint8(_random(tokenId, &quot;qwert&quot;) % headgear.length);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 earIdx = uint8(_random(tokenId, &quot;yuiop&quot;) % eargear.length);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 faceIdx = uint8(_random(tokenId, &quot;asdfg&quot;) % facegear.length);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create bot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replbots[tokenId] = ReplBot(frameCol, visorCol, backgroundCol, headIdx, earIdx, faceIdx);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Mint token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _safeMint(recipient, tokenId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return tokenId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The bulk of this code consists of retrieving random numbers and using the <a href="https://en.wikipedia.org/wiki/Modulo_operation" target="_blank" rel="noopener noreferrer">modulo operator</a> to convert them into a number in the range we need – for colors, this will be a number between 0 and 255, and for accessories, this will be a valid index in the relevant accessory array.</p><p>When we define our <code>Color</code> structs, we specify the <a href="https://docs.soliditylang.org/en/v0.8.13/types.html?#data-location" target="_blank" rel="noopener noreferrer">data location</a> <code>memory</code>. The data location must be specified for all complex data types: arrays, structs, and strings. For variables that are local to a function, <code>memory</code> is usually correct.</p><p>Once that&#x27;s done, we create the ReplBot struct, assign it to our token ID through the mapping, and then mint the token.</p><p>However, if you try to compile this code, you&#x27;ll notice that <code>_random()</code> is not defined. Unlike many traditional languages, Solidity has no native way of generating <a href="https://en.wikipedia.org/wiki/Pseudorandomness" target="_blank" rel="noopener noreferrer">pseudorandom numbers</a>. So we&#x27;ll need to define one ourselves.</p><p><a href="https://fravoll.github.io/solidity-patterns/randomness.html" target="_blank" rel="noopener noreferrer">Randomness in Ethereum contracts</a> is a difficult thing to get right, and one that can be dangerous if done wrong, depending on what it&#x27;s used for. If you&#x27;ve delved into randomness in other languages, you&#x27;ll know that the random numbers we use in programming are usually only pseudorandom, originating from a <a href="https://en.wikipedia.org/wiki/Random_seed" target="_blank" rel="noopener noreferrer">predetermined seed</a>, or based on the time of execution. This is okay when we&#x27;re generating a Minecraft world, but presents problems for, say, a blockchain-based lottery. Because Ethereum is a transparent and distributed network, we have no way to hide a seed, and values like the current time can be <a href="https://cryptomarketpool.com/block-timestamp-manipulation-attack/" target="_blank" rel="noopener noreferrer">manipulated by miners</a> looking to profit.</p><p>The only foolproof way to generate random numbers at the moment is to use a trusted external source of randomness, such as <a href="https://docs.chain.link/docs/chainlink-vrf/" target="_blank" rel="noopener noreferrer">Chainlink&#x27;s VRF oracle</a> (an <a href="https://ethereum.org/en/developers/docs/oracles/" target="_blank" rel="noopener noreferrer">oracle</a> is a data feed built for use by smart contracts). However, as we&#x27;re building on the Replit Testnet, we won&#x27;t have access to such an oracle, so we&#x27;ll need to settle for the best pseudorandomness we can get. If we were building a lottery contract, this would be a problem, but for this project, manipulation can only get you a slightly different-looking ReplBot.</p><p>Our <code>_random()</code> function should be inserted below the <code>mint()</code> function. It looks like this:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    function _random(uint tokenId, string memory input) internal view returns (uint256) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bytes32 blckhash = blockhash(block.number - 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return uint256(keccak256(abi.encodePacked(block.difficulty, blckhash, tokenId, abi.encodePacked(input))));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is a <a href="https://docs.soliditylang.org/en/v0.8.2/contracts.html#view-functions" target="_blank" rel="noopener noreferrer"><code>view</code> function</a> because it does not change state. In the first line, we&#x27;re getting the <a href="https://docs.soliditylang.org/en/v0.8.13/units-and-global-variables.html#block-and-transaction-properties" target="_blank" rel="noopener noreferrer">blockhash</a> of the last block to be mined. In the second line, we use <a href="https://docs.soliditylang.org/en/v0.8.11/abi-spec.html#non-standard-packed-mode" target="_blank" rel="noopener noreferrer"><code>abi.encodePacked()</code></a> to concatenate the following:</p><ul><li>The blockhash we previously retrieved.</li><li>The difficulty of the current block.</li><li>The ID of the token we&#x27;re minting.</li><li>The <code>input</code> string we passed in when calling <code>_random()</code>.</li></ul><p>All but the last of these values will be the same for every invocation of <code>_random()</code> in an individual <code>mint()</code> call. This is why we&#x27;ve specified different strings for each one.</p><p>We then hash our big chunk of data using <a href="https://docs.soliditylang.org/en/v0.8.13/units-and-global-variables.html?#mathematical-and-cryptographic-functions" target="_blank" rel="noopener noreferrer"><code>keccak256()</code></a>. A good <a href="https://en.wikipedia.org/wiki/Hash_function" target="_blank" rel="noopener noreferrer">hash function</a> will return very different outputs given similar inputs, so this ensures that every call to <code>_random()</code> will return a sufficiently distinct result, even when most of the inputs are the same.</p><p>Finally, we convert this hash into an unsigned integer, to be returned as our final &quot;random&quot; number.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="viewing-token-data">Viewing token data<a href="build-a-robot-nft.html#viewing-token-data" class="hash-link" aria-label="Direct link to Viewing token data" title="Direct link to Viewing token data">​</a></h2><p>Now that we can generate tokens with interesting-looking ReplBots, we need a way of retrieving information about them, so that we&#x27;ll be able to display them on the web3 frontend we&#x27;ll build in Part 2 of this tutorial. To this end, we&#x27;ll write two functions: <code>botAccessories</code> and <code>botColors</code>. These will be externally callable view functions that will take the token ID and return three strings, detailing accessories and colors, respectively. As external calls to view functions are free, we don&#x27;t have to worry too much about gas costs in these functions.</p><p>Enter the following code between the definitions of <code>mint()</code> and <code>_random()</code>:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    function botAccessories(uint256 tokenId) public view returns (string memory, string memory, string memory) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(_exists(tokenId), &quot;ReplBots: Query for nonexistent token&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ReplBot memory bot = replbots[tokenId];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return (headgear[bot.head], eargear[bot.ears], facegear[bot.face]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Our function body starts with a <a href="https://docs.soliditylang.org/en/v0.4.24/control-structures.html#error-handling-assert-require-revert-and-exceptions" target="_blank" rel="noopener noreferrer">require statement</a>. This is an error-handling function in Solidity: If the condition in the first argument is not met, the current transaction will revert (undoing all previous actions) and the error message in the second argument will be displayed. In this instance, we&#x27;re using it to prevent the details of unminted tokens from being queried.</p><p>Once we&#x27;ve confirmed that <code>tokenId</code> is valid, we retrieve its associated <code>ReplBot</code> struct. Solidity allows us to <a href="https://docs.soliditylang.org/en/v0.8.13/contracts.html?#returning-multiple-values" target="_blank" rel="noopener noreferrer">return multiple values from a function</a>, which we use to return three different strings.</p><p>Now let&#x27;s create <code>botColors()</code>. Add the following code below the definition of <code>botAccessories()</code>:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    function botColors(uint256 tokenId) public view returns (string memory, string memory, string memory) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(_exists(tokenId), &quot;ReplBots: Query for nonexistent token&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ReplBot memory bot = replbots[tokenId];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return (_colorToString(bot.frame),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               _colorToString(bot.visor),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               _colorToString(bot.background));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This function is quite similar to <code>botAccessories()</code>, but as our colors are structs rather than strings, we will need to define a new function, <code>_colorToString()</code> to convert them. Let&#x27;s do that now.</p><p>Add the following code below the definition of <code>botColors()</code>:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    function _colorToString(Color memory color) internal pure returns (string memory) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        string[7] memory parts;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        parts = [&quot;(&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 color.red.toString(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 &quot;,&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 color.blue.toString(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 &quot;,&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 color.green.toString(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                 &quot;)&quot;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return string(abi.encodePacked(parts[0], parts[1], parts[2], parts[3], parts[4], parts[5], parts[6]));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>While Solidity does not currently have a string concatenation function, we can use <code>abi.encodePacked</code> on an array of strings to achieve the same result, similar to what we did in <code>_random()</code>. Solidity also doesn&#x27;t have any syntactic sugar for expanding/splatting arrays into function arguments, so we have to specify each element individually.</p><p>But wait! Where does <code>.toString()</code> come from? If you try to compile this contract now, you&#x27;ll find that this method is undefined.</p><p>Rather than being a Solidity built-in, this comes from the OpenZeppelin Strings library that we imported at the beginning of this tutorial. To use this library, we need to add the following line to our contract definition, right below <code>contract ReplBots is ERC721Enumerable { </code>:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    using Strings for uint8;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Solidity&#x27;s <a href="https://docs.soliditylang.org/en/v0.8.13/contracts.html?#using-for" target="_blank" rel="noopener noreferrer"><code>using Library for type</code></a> directive attaches all functions in the specified library to the specified type. When a library function is called on an object of that type, it will receive that object as its first parameter.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="testing-our-contract">Testing our contract<a href="build-a-robot-nft.html#testing-our-contract" class="hash-link" aria-label="Direct link to Testing our contract" title="Direct link to Testing our contract">​</a></h2><p>Now that we&#x27;ve implemented our NFT&#x27;s core functionality, it&#x27;s time to deploy to the Replit Testnet and test it out. We&#x27;ll use our repl&#x27;s web interface to do this.</p><p>First, run your repl. Once all of the dependencies are installed, you should see the Replit Ethereum web interface in your repl&#x27;s browser. It looks like this:</p><p><img loading="lazy" src="https://docimg.replit.com/images/tutorials/42-robot-nft-ethereum/repl-eth-web.png" alt="REPL Ethereum web interface" class="img_ev3q"></p><p>Connect your MetaMask wallet to the web interface and switch to the Replit Testnet. Then click the link to get 1 ETH for testing. Wait until 1 ETH shows up in your wallet balance on the top right of the page.</p><p><img loading="lazy" src="https://docimg.replit.com/images/tutorials/42-robot-nft-ethereum/switch-to-test.png" alt="Switching to test" class="img_ev3q">
<img loading="lazy" src="https://docimg.replit.com/images/tutorials/42-robot-nft-ethereum/get-one.png" alt="Getting one Ether" class="img_ev3q"></p><p>Now you can deploy your contracts. Select &quot;ReplBots&quot; from the drop-down box and click &quot;Deploy&quot;. Approve the MetaMask pop-up that appears.</p><p><img loading="lazy" src="https://docimg.replit.com/images/tutorials/42-robot-nft-ethereum/deploy.png" alt="Deploy the contract" class="img_ev3q"></p><p><img loading="lazy" src="https://docimg.replit.com/images/tutorials/42-robot-nft-ethereum/confirmdeploy.png" alt="Confirm deploy" class="img_ev3q"></p><p>Once this contract has been deployed, it will show up as an expandable box below the drop-down box. Expand it and take a look at all the different functions available.</p><video controls="" width="80%" loop="" src="https://docimg.replit.com/images/tutorials/42-robot-nft-ethereum/expand.mp4"></video><p>Mint your first NFT by navigating to the <code>mint</code> function. Click on your wallet address in the top right corner of the page to copy it, and then paste it into the <code>recipient</code> field. Then run the function and approve the MetaMask pop-up that appears.</p><video controls="" width="80%" loop="" src="https://docimg.replit.com/images/tutorials/42-robot-nft-ethereum/mint.mp4" type="video/mp4"></video><p>After a few seconds, you should see a pop-up indicating that your transaction has gone through. Congratulations, you&#x27;re the proud owner of a ReplBot NFT! Check out its colors and accessories by entering ID 0 into <code>botColors</code> and <code>botAccessories</code>.</p><p>If you mint again, you should receive a ReplBot with ID 1 and a different set of colors and accessories.</p><p><img loading="lazy" src="https://docimg.replit.com/images/tutorials/42-robot-nft-ethereum/botcolors.png" alt="Bot colors" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="breeding-bots">Breeding bots<a href="build-a-robot-nft.html#breeding-bots" class="hash-link" aria-label="Direct link to Breeding bots" title="Direct link to Breeding bots">​</a></h2><p>We can now mint ReplBots with random characteristics, which fulfills the specification we laid out at the start of this tutorial. But with a bit of additional code, we can introduce a second way to create ReplBots, breeding.</p><p>For our <code>breed</code> function, we&#x27;ll accept two separate ReplBots owned by the caller and create a new one with the following characteristics:</p><ul><li>Its colors will be an equal mix of both parents.</li><li>Its headgear will come from the first parent.</li><li>Its eargear will come from the second parent.</li><li>Its facegear will be randomized.</li></ul><p>To keep track of which bots are minted and which bots are bred, we&#x27;ll add a few additional fields to our <code>ReplBot</code> struct. Go to the top of your contract and edit the struct to resemble the following:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    struct ReplBot {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color frame;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color visor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color background;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 head;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 ears;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 face;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 generation; // new field</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 parentOneId; // new field</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint256 parentTwoId; // new field</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We&#x27;ll store our bot&#x27;s generation and both parent IDs. Bots created through <code>mint</code> will have 0 for all three of these values. To avoid making it look as though all minted bots have token 0 for both parents, we&#x27;ll start the tokenCounter from 1. Edit its declaration (near the top of your contract) as follows:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 public tokenCounter = 1; // no more token 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then we need to add three zeros to the creation of the <code>ReplBot</code> struct in <code>mint()</code>. Find and edit the line below:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        // Create bot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replbots[tokenId] = ReplBot(frameCol, visorCol, backgroundCol, headIdx, earIdx, faceIdx, 0, 0, 0); // &lt;-- ZEROS ADDED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Mint token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _safeMint(recipient, tokenId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return tokenId;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now we can start on our <code>breed()</code> function. Add the following code below the definition of <code>mint()</code>:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    function breed(uint256 parentOneId, uint256 parentTwoId, address recipient) public returns (uint256) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Require two parents</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(parentOneId != parentTwoId, &quot;ReplBots: Parents must be separate bots&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Check ownership</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(ownerOf(parentOneId) == msg.sender, &quot;ReplBots: You don&#x27;t own parent 1&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(ownerOf(parentTwoId) == msg.sender, &quot;ReplBots: You don&#x27;t own parent 2&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ReplBot storage parentOne = replbots[parentOneId];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ReplBot storage parentTwo = replbots[parentTwoId];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Check age</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(parentOne.generation == parentTwo.generation, &quot;ReplBots: Parents must belong to the same generation&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We start our function off with some checks: The two parent IDs must be different, they must be owned by the function caller (<a href="https://docs.soliditylang.org/en/v0.8.2/units-and-global-variables.html#block-and-transaction-properties" target="_blank" rel="noopener noreferrer"><code>msg.sender</code></a>), and they must be in the same generation.</p><p>Next comes our bot creation code, which will be similar to the code in our <code>mint()</code> function. Add the following code below the final <code>require()</code> statement in the <code>breed</code> function above:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        // Increment token counter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint tokenId = tokenCounter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tokenCounter++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Interpolate colors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color memory frameCol = Color(_meanOfTwo(parentOne.frame.red, parentTwo.frame.red),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      _meanOfTwo(parentOne.frame.green, parentTwo.frame.green),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      _meanOfTwo(parentOne.frame.blue, parentTwo.frame.blue));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color memory visorCol = Color(_meanOfTwo(parentOne.visor.red, parentTwo.visor.red),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      _meanOfTwo(parentOne.visor.green, parentTwo.visor.green),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      _meanOfTwo(parentOne.visor.blue, parentTwo.visor.blue));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Color memory backgroundCol = Color(_meanOfTwo(parentOne.background.red, parentTwo.background.red),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      _meanOfTwo(parentOne.background.green, parentTwo.background.green),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      _meanOfTwo(parentOne.background.blue, parentTwo.background.blue));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Choose accessories</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 headIdx = parentOne.head;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 earIdx = parentTwo.ears;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        uint8 faceIdx = uint8(_random(tokenId, &quot;asdfg&quot;) % facegear.length);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create bot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replbots[tokenId] = ReplBot(frameCol, visorCol, backgroundCol, headIdx, earIdx, faceIdx, parentOne.generation + 1, parentOneId, parentTwoId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Mint token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _safeMint(recipient, tokenId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return tokenId;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>All of our bot&#x27;s colors and attributes are generated according to the breeding process we specified above. One last thing we&#x27;ll need to do is define the <code>_meanOfTwo()</code> function we&#x27;re using to determine the child bot&#x27;s colors. Add the following code to the bottom of your contract, just below the definition of <code>_random()</code>:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    function _meanOfTwo(uint8 first, uint8 second) internal pure returns (uint8) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return uint8((uint16(first) + uint16(second))/2);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here we convert first and second into <code>uint16</code> values to prevent them from overflowing (which would <a href="https://docs.soliditylang.org/en/v0.8.13/control-structures.html?#checked-or-unchecked-arithmetic" target="_blank" rel="noopener noreferrer">cause our function to revert</a>), divide the result by two, and return it as a <code>uint8</code>.</p><p>Lastly, we&#x27;ll need to define a new <code>view</code> function to return the generation and parentage of individual tokens. Insert the definition of the following function, <code>botParentage()</code>, just below the definition of <code>botColors()</code>:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    function botParentage(uint256 tokenId) public view returns (uint, uint, uint) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(_exists(tokenId), &quot;ReplBots: Query for nonexistent token&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ReplBot memory bot = replbots[tokenId];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return (bot.generation, bot.parentOneId, bot.parentTwoId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Compile and deploy your contract as you did before. Because it&#x27;s a new contract, you&#x27;ll need to mint two new ReplBots before you can try out the <code>breed</code> function. Do so now, and check that your child bot (ID 2) looks as expected. Then call <code>botParentage</code> to check its generation and parents.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="adding-events">Adding events<a href="build-a-robot-nft.html#adding-events" class="hash-link" aria-label="Direct link to Adding events" title="Direct link to Adding events">​</a></h2><p>Our contract is now fully functional, but there are a few niceties we can add, in the form of <a href="https://docs.soliditylang.org/en/v0.8.2/contracts.html#events" target="_blank" rel="noopener noreferrer">events</a>. Events provide a user-friendly form of logging on the blockchain and are commonly used by dApps. It&#x27;s considered best practice to emit events whenever a state change is made, so we should define events for our contract&#x27;s two state-changing actions, minting and breeding.</p><p>Event definitions are commonly placed at the bottom of contracts. Add the following code just above your contract&#x27;s final closing brace (<code>}</code>):</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    event ReplBotCreated(address recipient, uint tokenId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    event ReplBotBorn(address recipient, uint tokenId, uint parentOneId, uint parentTwoId, uint generation);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then insert an event emission near the end of your <code>mint()</code> function, as below:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        _safeMint(recipient, tokenId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit ReplBotCreated(recipient, tokenId); // &lt;-- NEW LINE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return tokenId;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And another one near the end of your <code>breed()</code> function:</p><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        _safeMint(recipient, tokenId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit ReplBotBorn(recipient, tokenId, parentOneId, parentTwoId, parentOne.generation + 1); // &lt;-- NEW LINE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return tokenId;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="next-steps">Next steps<a href="build-a-robot-nft.html#next-steps" class="hash-link" aria-label="Direct link to Next steps" title="Direct link to Next steps">​</a></h2><p>We&#x27;re done with our contract code. In the second part of this tutorial, we&#x27;ll build a dApp frontend for users to mint, view, and breed ReplBot NFTs. If you&#x27;d like to spend a bit more time exploring Solidity first, here are some ways you might want to change and expand this contract:</p><ul><li>Add more accessories. You&#x27;ll need to draw these yourself!</li><li>Refactor the code to reduce the size of the contract and make individual functions more gas efficient. One quick way to do this would be to change the visibility of the <code>public</code> functions to <code>external</code>.</li><li>Tweak the breeding algorithm.</li><li>Introduce a <a href="https://medium.com/cryptokitties/siring-your-kitties-for-fun-and-profit-b6c8f0fc3860" target="_blank" rel="noopener noreferrer">siring mechanism</a> that allows users to breed ReplBots they don&#x27;t own.</li></ul><iframe height="400px" width="100%" src="https://replit.com/@ritza/ReplBots?embed=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="flexer_Eq2A prev_vqcT"><a class="link_ZrPi" href="build-a-robot-nft-p2.html"><span>&lt; Previous<!-- -->: <!-- -->Robot NFT Part 2: Frontend</span></a></div><div class="flexer_Eq2A"><a class="link_ZrPi" href="build-smart-contract-oracle.html"><span>Next<!-- -->: <!-- -->Smart contract oracle with Solidity<!-- --> &gt;</span></a></div></nav><footer class="theme-doc-footer docusaurus-mt-lg footer_cxLd"><div class="docs-rating-wrapper"><div class="docs-rating-widget"><span class="helpfulness-indication">Was this helpful?</span><div class="docs-rating-button-wrapper"><button><span>👎</span></button><button><span>👍</span></button></div></div></div><div class="theme-doc-footer-edit-meta-row row editDocContainer_Wpgd"><div></div><div style="flex-grow:1"></div><div class="lastUpdated_VsjB"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-08-31T22:34:37.000Z">Aug 31, 2023</time></b></span></div></div></footer></article></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="build-a-robot-nft.html#getting-started" class="table-of-contents__link toc-highlight">Getting started</a><ul><li><a href="build-a-robot-nft.html#solidity-repl" class="table-of-contents__link toc-highlight">Solidity repl</a></li><li><a href="build-a-robot-nft.html#browser-wallet" class="table-of-contents__link toc-highlight">Browser wallet</a></li></ul></li><li><a href="build-a-robot-nft.html#introduction-to-smart-contract-development" class="table-of-contents__link toc-highlight">Introduction to smart contract development</a></li><li><a href="build-a-robot-nft.html#nft-design" class="table-of-contents__link toc-highlight">NFT design</a></li><li><a href="build-a-robot-nft.html#contract-code-scaffold" class="table-of-contents__link toc-highlight">Contract code scaffold</a></li><li><a href="build-a-robot-nft.html#nft-data-structures" class="table-of-contents__link toc-highlight">NFT data structures</a></li><li><a href="build-a-robot-nft.html#minting-nfts" class="table-of-contents__link toc-highlight">Minting NFTs</a></li><li><a href="build-a-robot-nft.html#viewing-token-data" class="table-of-contents__link toc-highlight">Viewing token data</a></li><li><a href="build-a-robot-nft.html#testing-our-contract" class="table-of-contents__link toc-highlight">Testing our contract</a></li><li><a href="build-a-robot-nft.html#breeding-bots" class="table-of-contents__link toc-highlight">Breeding bots</a></li><li><a href="build-a-robot-nft.html#adding-events" class="table-of-contents__link toc-highlight">Adding events</a></li><li><a href="build-a-robot-nft.html#next-steps" class="table-of-contents__link toc-highlight">Next steps</a></li></ul></div></div></div></div></main></div></div></div></div>
<script src="../../assets/js/runtime~main.01d4cfda.js"></script>
<script src="../../assets/js/main.495109c2.js"></script>
</body>
</html>