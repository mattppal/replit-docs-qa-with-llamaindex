{"docstore/data": {"71c462c9-c8fc-4df6-8e09-e457858de415": {"__data__": {"id_": "71c462c9-c8fc-4df6-8e09-e457858de415", "embedding": null, "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add", "node_type": "4", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "4cd18cf030c2f8c364c72d6f46684979f21969dd941062c82f7f9efdea031d30", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7a426364-f1f8-4b2d-87ad-3073b074e25f", "node_type": "1", "metadata": {}, "hash": "5906ba985e74e39c7172ecaa48fe2784e6c7df79ef4621f98d2e60ae9de88a81", "class_name": "RelatedNodeInfo"}}, "hash": "f435a29145451269fda5f8ea37b1b0306f6036d28599d838c990ff2478b9f30e", "text": "loadRoot\n\n\"sounds/\"\n\nloadSound\n\n\"rocket_thrust\"\n\n\"rocket_thrust.wav\"\n\nloadSound\n\n\"laser\"\n\n\"laser.wav\"\n\nloadSound\n\n\"explosion\"\n\n\"explosion.mp3\"\n\nloadSound\n\n\"Steamtech-Mayhem_Looping\"\n\n\"Steamtech-Mayhem_Looping.mp3\"\n\nThe first line, loadRoot, specifies which folder to load all the sprites and game elements from, so we don't have to keep typing it in for each sprite. Then each line loads a game sprite and gives it a name so that we can refer to it in code later. We also use similar code to load sound elements for our game using the loadSound function.\n\nSetting the scene\u200b\n\nA Kaboom.js game is made up of scenes, which you can think of as different screens, levels or stages. You can use scenes for game levels, menus, cut-scenes and any other screens your game might contain. In this tutorial, we'll just use one scene, which will contain the entire game logic.\n\nScenes are further divided into layers, which are populated by game objects (also called sprites). The layer an object is on will determine when it gets drawn and which other objects it can collide with. In this game, we'll use three layers: the background layer (bg), the object layer (obj), and UI layer (ui). To initialize these layers, add the code below to the bottom of the main.js file:\n\nscene\n\n\"main\"\n\n=>\n\nlayers\n\n\"bg\"\n\n\"obj\"\n\n\"ui\"\n\n\"obj\"\n\n// add more scene code here\n\ngo\n\n\"main\"\n\nOn the first line we define the main scene, and then we declare the game layers.\nThese layers will be drawn in the order declared. The majority of gameplay will happen in the obj layer, so we've set that as the default layer. Any objects we create will be placed in this layer, unless we specify a different layer when we create the object.\n\nNote: The code snippets in the sections that follow should be added within the body of the main scene unless specified otherwise.\n\nThe bg layer will be drawn first, beneath everything else, and we'll use that to specify a background image for our game. Do that now by adding the following code to within the body of the main scene.\n\n// Background\n\nadd\n\nsprite\n\n\"space\"\n\nlayer\n\n\"bg\"\n\nHere we're adding a very simple game object: the space sprite we uploaded earlier on the background layer. Later game objects, such as the player's ship and the asteroids, will be more complicated.\n\nThe final layer, ui, is where we will display information such as the player's remaining lives and total score. Let's draw the score now. First, we have to declare a global variable named score, with the following line:\n\nlet\n\nscore\n\nNow we'll create an empty object on the UI layer, as follows:\n\n// UI\n\nui\n\nadd\n\nlayer\n\n\"ui\"\n\nAlthough Kaboom allows us to create objects that display text, this text is set once at object creation and has to be updated manually, which doesn't really make sense for a real-time UI. Instead of doing that, we'll use our ui object's draw event callback to draw text containing the current score. Add the following code:\n\nui\n\non\n\n\"draw\"\n\n=>\n\ndrawText\n\ntext\n\n\"Score: \"\n\nscore\n\nsize\n\n14\n\nfont\n\n\"sink\"\n\npos\n\nvec2\n\n24\n\nCallbacks are a key concept in JavaScript and Kaboom makes heavy use of them. Some callbacks, such as the one above, are called on every frame of the game (around 60 times a second). Others are called when specific events happen, such as user keypresses. Because this callback will be invoked so often, our score will always be up to date.\n\nRun your repl now and marvel at the vast emptiness of space.\n\nThe player's ship\u200b\n\nNow let's populate that empty space. Enter the following code below the UI drawing code to create the player:\n\n// The ship\n\nconst\n\nplayer\n\nadd\n\nsprite\n\n\"ship\"\n\npos\n\n160\n\n120\n\nrotate\n\norigin\n\n\"center\"\n\nsolid\n\narea\n\n\"player\"\n\n\"mobile\"\n\n\"wraps\"\n\nturn_speed\n\n4.58\n\nspeed\n\nmax_thrust\n\n48\n\nacceleration\n\ndeceleration\n\nlives\n\ncan_shoot\n\ntrue\n\nlaser_cooldown\n\n0.5\n\ninvulnerable\n\nfalse\n\ninvulnerablity_time\n\nanimation_frame\n\nthrusting\n\nfalse\n\nHere we're creating a game object with a number of components, each of which give our object some data or behavior. These are:\n\nThe sprite component, which draws the ship sprite.", "start_char_idx": 0, "end_char_idx": 4057, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "7a426364-f1f8-4b2d-87ad-3073b074e25f": {"__data__": {"id_": "7a426364-f1f8-4b2d-87ad-3073b074e25f", "embedding": null, "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add", "node_type": "4", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "4cd18cf030c2f8c364c72d6f46684979f21969dd941062c82f7f9efdea031d30", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "71c462c9-c8fc-4df6-8e09-e457858de415", "node_type": "1", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "f435a29145451269fda5f8ea37b1b0306f6036d28599d838c990ff2478b9f30e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "cb97eba0-b138-485f-9b46-8edb3f308152", "node_type": "1", "metadata": {}, "hash": "12f24469468af3fab242a791ee3e5509fd7378249317ad1b6a1bbd50e3574339", "class_name": "RelatedNodeInfo"}}, "hash": "5906ba985e74e39c7172ecaa48fe2784e6c7df79ef4621f98d2e60ae9de88a81", "text": "Because this callback will be invoked so often, our score will always be up to date.\n\nRun your repl now and marvel at the vast emptiness of space.\n\nThe player's ship\u200b\n\nNow let's populate that empty space. Enter the following code below the UI drawing code to create the player:\n\n// The ship\n\nconst\n\nplayer\n\nadd\n\nsprite\n\n\"ship\"\n\npos\n\n160\n\n120\n\nrotate\n\norigin\n\n\"center\"\n\nsolid\n\narea\n\n\"player\"\n\n\"mobile\"\n\n\"wraps\"\n\nturn_speed\n\n4.58\n\nspeed\n\nmax_thrust\n\n48\n\nacceleration\n\ndeceleration\n\nlives\n\ncan_shoot\n\ntrue\n\nlaser_cooldown\n\n0.5\n\ninvulnerable\n\nfalse\n\ninvulnerablity_time\n\nanimation_frame\n\nthrusting\n\nfalse\n\nHere we're creating a game object with a number of components, each of which give our object some data or behavior. These are:\n\nThe sprite component, which draws the ship sprite.\n\nThe pos (position) component, which places the player near the center of the screen in the Replit browser.\n\nThe rotate component, which will allow the player to turn the ship with the left and right arrow keys.\n\nThe origin component, which sets the sprite's origin to \"center\", so that when we rotate the ship, it will rotate around the middle of its sprite rather than the default top-left corner.\n\nThe area component, which generates the collision area for the ship to detect collisions.\n\nFollowing that initial configuration, we're giving the player object three tags: player, mobile and wraps. Kaboom uses a tagging system to apply behavior to objects -- you can think of this as similar to multiple inheritance. By tagging objects with shared behavior, we can save ourselves from duplicating code.\n\nFinally, we assign a number of custom properties to our player object. We'll use these properties to handle a variety of gameplay functions, such as moving and shooting.\n\nIf you run your repl now, you should see the ship sprite in the middle of a blank screen. In the next section, we'll implement movement controls.\n\nMovement controls\u200b\n\nIn this game, our player will turn the nose of the spaceship with the left and right arrow keys, and thrust forward and backward with the up and down arrow keys. We'll handle movement in two phases: user input, and actually moving the ship. First, let's allow the player to turn their ship to the left and right. Add the following code:\n\n// Movement keys\n\nonKeyDown\n\n\"left\"\n\n=>\n\nplayer\n\nangle\n\n=\n\nplayer\n\nturn_speed\n\nonKeyDown\n\n\"right\"\n\n=>\n\nplayer\n\nangle\n\n+=\n\nplayer\n\nturn_speed\n\nRun your repl now, and you should be able to turn the ship to the left and right by pressing the respective arrow keys. If you think it turns too fast or too slow, change the value of turn_speed in the player creation code.\n\nNow let's implement the up and down keys, so the player can move around the scene. Enter the following code beneath the player turning code:\n\nonKeyDown\n\n\"up\"\n\n=>\n\nplayer\n\nspeed\n\nMath\n\nmin\n\nplayer\n\nspeed\n\nplayer\n\nacceleration\n\nplayer\n\nmax_thrust\n\nplay\n\n\"rocket_thrust\"\n\nvolume\n\n0.1\n\nspeed\n\n2.0\n\nRather than having the spaceship go from zero to max speed immediately, we want to simulate a gradual acceleration to our max speed. To achieve this, we use Math.min() to set the player's speed to the minimum value between current speed plus acceleration and its maximum speed. This will make the ship gradually increase in speed until it reaches max_thrust. Play around with the values of acceleration and max_thrust in the player creation code and see what feels right to you.\n\nAdditionally, we set our rocket thrust sound to play while accelerating. Kaboom allows us to manipulate sounds in a few different ways, such as changing their speed and volume.\n\nWe'll handle deceleration by doing the opposite to acceleration, using Math.max() to choose the maximum between the player's speed minus their deceleration, and their maximum speed in reverse (i.e. negative). Add the following code below the acceleration controls:\n\nonKeyDown\n\n\"down\"\n\n=>\n\nplayer\n\nspeed\n\nMath\n\nmax\n\nplayer\n\nspeed\n\nplayer\n\ndeceleration\n\nplayer\n\nmax_thrust\n\nplay\n\n\"rocket_thrust\"\n\nvolume\n\n0.2\n\nspeed\n\n2.0\n\nIf you run your repl now and try to accelerate or decelerate, the sound will play, but the ship will go nowhere. This is because we're manipulating player.speed, which is a custom property that Kaboom hasn't attached any special behavior to (unlike player.angle). Let's add some movement parameters now.", "start_char_idx": 3277, "end_char_idx": 7581, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "cb97eba0-b138-485f-9b46-8edb3f308152": {"__data__": {"id_": "cb97eba0-b138-485f-9b46-8edb3f308152", "embedding": null, "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add", "node_type": "4", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "4cd18cf030c2f8c364c72d6f46684979f21969dd941062c82f7f9efdea031d30", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7a426364-f1f8-4b2d-87ad-3073b074e25f", "node_type": "1", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "5906ba985e74e39c7172ecaa48fe2784e6c7df79ef4621f98d2e60ae9de88a81", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "98e18ea1-1b92-4bb4-bc71-1dfda50474d8", "node_type": "1", "metadata": {}, "hash": "d71b1e9ea16563769034da748628211296234529016bf3634a40aa7ef26e583c", "class_name": "RelatedNodeInfo"}}, "hash": "12f24469468af3fab242a791ee3e5509fd7378249317ad1b6a1bbd50e3574339", "text": "Kaboom allows us to manipulate sounds in a few different ways, such as changing their speed and volume.\n\nWe'll handle deceleration by doing the opposite to acceleration, using Math.max() to choose the maximum between the player's speed minus their deceleration, and their maximum speed in reverse (i.e. negative). Add the following code below the acceleration controls:\n\nonKeyDown\n\n\"down\"\n\n=>\n\nplayer\n\nspeed\n\nMath\n\nmax\n\nplayer\n\nspeed\n\nplayer\n\ndeceleration\n\nplayer\n\nmax_thrust\n\nplay\n\n\"rocket_thrust\"\n\nvolume\n\n0.2\n\nspeed\n\n2.0\n\nIf you run your repl now and try to accelerate or decelerate, the sound will play, but the ship will go nowhere. This is because we're manipulating player.speed, which is a custom property that Kaboom hasn't attached any special behavior to (unlike player.angle). Let's add some movement parameters now.\n\nMovement\u200b\n\nMovement in Kaboom and most other 2D game development systems is handled using X and Y coordinates on a plane. To move an object left, you subtract from its X coordinate, and to move it right, you add to its X coordinate. To move an object up, you subtract from its Y coordinate, and to move it down, you add to its Y coordinate. Therefore, basic four-directional movement in games like Snake or Pacman is quite straightforward. The directional movement we need for Asteroids (commonly called tank controls) is more complex, requiring some calculations.\n\nAt a high level, we want to move a given distance (player.speed) in a given direction (player.angle). As a first step, let's create an onUpdate callback for our mobile tag. This code, like our UI drawing code above, will be run by every object with the \"mobile\" tag on every frame of the game, so we can use it for more than just the player object. Add the following code at the bottom of your main scene:\n\n// Movement\n\nonUpdate\n\n\"mobile\"\n\n=>\n\nmove\n\npointAt\n\nspeed\n\nangle\n\nFirst, we move our object, using the function pointAt(), which takes a speed and an angle and returns the corresponding X and Y co-ordinates as a vec2 object, Kaboom's 2D vector type. This data type is provided by Kaboom specifically for working with X and Y coordinates, and comes with a number of useful functions, such as addition and subtraction.\n\nNow we need to create the pointAt() function. Before we jump into the code, let's think about the problem. Our movement can be drawn as an angled line on a plane, and its X and Y coordinates as horizontal and vertical lines connected to it, giving us a right-angled triangle.\n\nWe know the values of the triangle's angles: one is 90 degrees, and the other two are equal to player.angle. The length of the triangle's hypotenuse (the red line in the diagram above) is player.speed: this is the distance our ship will be traveling.\n\nWe now need to calculate the lengths of the other two sides to get the X and Y values for our movement vector. We can do this using the trigonometric sine and cosine functions, like so:\n\nsine(angle) = y / distance\n\ny = distance * sin(angle)\n\ncosine(angle) = x / distance\n\nx = distance * cos(angle)\n\nRemember, in Kaboom and most other 2D game development platforms, the Y axis is inverted, so we have to make it negative. Add the pointAt() function below, at the top of the main scene code.\n\nfunction\n\npointAt\n\ndistance\n\nangle\n\nlet\n\nradians\n\ndeg2rad\n\nangle\n\nreturn\n\nvec2\n\ndistance\n\nMath\n\ncos\n\nradians\n\ndistance\n\nMath\n\nsin\n\nradians\n\nRun your repl now and take the ship for a spin. You should be able to thrust forward and backward, moving according to where the ship's nose is pointing.\n\nThere's one little problem though: thrust too long, and you'll fly off the screen. In any other game, we might solve that by enclosing the play area with walls, but that doesn't seem quite right in the infinite expanse of space. The original Asteroids solved this by having the player and other key objects wrap around the screen, i.e. appear at the bottom after going over the top, or at the left edge after going past the right edge. Let's implement that now, using the \"wraps\" tag we assigned to our player object when we created it.", "start_char_idx": 6753, "end_char_idx": 10825, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "98e18ea1-1b92-4bb4-bc71-1dfda50474d8": {"__data__": {"id_": "98e18ea1-1b92-4bb4-bc71-1dfda50474d8", "embedding": null, "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add", "node_type": "4", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "4cd18cf030c2f8c364c72d6f46684979f21969dd941062c82f7f9efdea031d30", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "cb97eba0-b138-485f-9b46-8edb3f308152", "node_type": "1", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "12f24469468af3fab242a791ee3e5509fd7378249317ad1b6a1bbd50e3574339", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4f3fdeb5-7e3c-4bd2-85e3-5018753f8bc4", "node_type": "1", "metadata": {}, "hash": "46fd94f521093bd8900c37c7651b4cbdc1df429161e9f220da09c618d74c5f28", "class_name": "RelatedNodeInfo"}}, "hash": "d71b1e9ea16563769034da748628211296234529016bf3634a40aa7ef26e583c", "text": "You should be able to thrust forward and backward, moving according to where the ship's nose is pointing.\n\nThere's one little problem though: thrust too long, and you'll fly off the screen. In any other game, we might solve that by enclosing the play area with walls, but that doesn't seem quite right in the infinite expanse of space. The original Asteroids solved this by having the player and other key objects wrap around the screen, i.e. appear at the bottom after going over the top, or at the left edge after going past the right edge. Let's implement that now, using the \"wraps\" tag we assigned to our player object when we created it. Add the following code to the bottom of your main scene:\n\n// Wrap around the screen\n\nonUpdate\n\n\"wraps\"\n\n=>\n\nif\n\npos\n\nwidth\n\npos\n\nif\n\npos\n\npos\n\nwidth\n\nif\n\npos\n\nheight\n\npos\n\nif\n\npos\n\npos\n\nheight\n\nThis is a fairly straightforward piece of code that checks whether an object's position is outside of the room and, if so, places it on the other side. The width() and height() functions are Kaboom built-ins that return the size of the game canvas. Run your repl now and try it out.\n\nRocket animation\u200b\n\nOur ship can move now, but it would be nice to see its rockets firing when the player presses the up arrow key, as well as hear them. Reactive animations like these make games feel more responsive and look more dynamic.\n\nKaboom has methods for handling animations when a game object uses an animated sprite (i.e. one with multiple images), but this isn't quite what we want here. Rather than animating the player's ship, we need to animate the rocket thrust that appears behind it when a thrusting key is pressed, so we'll need to handle all the animation code ourselves. Luckily, Kaboom makes this fairly simple.\n\nFirst, let's create an array with our four rocket sprites. Add the following code at the bottom of your main scene:\n\n// Animate rocket\n\nconst\n\nthrust_animation\n\n\"rocket1\"\n\n\"rocket2\"\n\n\"rocket3\"\n\n\"rocket4\"\n\nThen we need some way to indicate when to start and stop the animation. We can use Kaboom's onKeyPress and onKeyRelease events for this, as well as two of the properties we defined for our player (thrusting and animation_frame). Add the following code:\n\n// rocket animation helpers\n\nonKeyPress\n\n\"up\"\n\n=>\n\nplayer\n\nthrusting\n\ntrue\n\nplayer\n\nanimation_frame\n\nonKeyRelease\n\n\"up\"\n\n=>\n\nplayer\n\nthrusting\n\nfalse\n\nNow let's draw the animation. We'll use a draw event callback, which lets us make the player draw other things in addition to its own sprite. Add the following code:\n\n// draw current rocket animation frame\n\nonDraw\n\n\"player\"\n\n=>\n\nif\n\nplayer\n\nthrusting\n\n// draw current frame\n\ndrawSprite\n\nsprite\n\nthrust_animation\n\nanimation_frame\n\npos\n\npos\n\nadd\n\npointAt\n\nheight\n\nangle\n\norigin\n\n\"center\"\n\nangle\n\nangle\n\n/*\n\nNOTE: starting from kaboom v2000.2 the coordinate system in onDraw(\"player\") will be relative to the current \"player\" object, it's an unintended breaking change but will be the default behavior starting on the next major release. If you're on v2000.2, change the drawSprite code to\n\ndrawSprite( {\n\nsprite: thrust_animation[p.animation_frame],\n\n// use a fixed position because it's going to be relative to the current player's coordinate system\n\npos: vec2(-p.width / 2, 0),\n\norigin: \"center\",\n\n});\n\n/\n\nHere we're using our pointAt function again, but this time we're looking for the rocket end of the ship, rather than its nose. We use our thrust_animation array in conjunction with the player's animation_frame value to figure out which rocket image to draw.\n\nTo actually make the rocket animate (i.e. cycle through animation frames), we'll use Kaboom's onUpdate function, and create a callback that changes the animation frame every 0.1 seconds. Add the following code:\n\nlet\n\nmove_delay\n\n0.1\n\nlet\n\ntimer\n\n// loop rocket animation\n\nonUpdate\n\n=>\n\ntimer\n\n+=\n\ndt\n\nif\n\ntimer\n\nmove_delay\n\nreturn\n\ntimer\n\nif\n\nplayer\n\nthrusting\n\nplayer\n\nanimation_frame\n\n++\n\nif\n\nplayer\n\nanimation_frame\n\n>=\n\nthrust_animation\n\nlength\n\n// wrap to start\n\nplayer\n\nanimation_frame\n\nThat's it! Run your repl and move your ship around.", "start_char_idx": 10182, "end_char_idx": 14257, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "4f3fdeb5-7e3c-4bd2-85e3-5018753f8bc4": {"__data__": {"id_": "4f3fdeb5-7e3c-4bd2-85e3-5018753f8bc4", "embedding": null, "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add", "node_type": "4", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "4cd18cf030c2f8c364c72d6f46684979f21969dd941062c82f7f9efdea031d30", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "98e18ea1-1b92-4bb4-bc71-1dfda50474d8", "node_type": "1", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "d71b1e9ea16563769034da748628211296234529016bf3634a40aa7ef26e583c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5cd46c29-92aa-4214-bbab-aa15c79a3dfc", "node_type": "1", "metadata": {}, "hash": "62a06acceaa13154d823d2c65af3ef999a5e3431f6f82ab1adcece1e6f671591", "class_name": "RelatedNodeInfo"}}, "hash": "46fd94f521093bd8900c37c7651b4cbdc1df429161e9f220da09c618d74c5f28", "text": "We use our thrust_animation array in conjunction with the player's animation_frame value to figure out which rocket image to draw.\n\nTo actually make the rocket animate (i.e. cycle through animation frames), we'll use Kaboom's onUpdate function, and create a callback that changes the animation frame every 0.1 seconds. Add the following code:\n\nlet\n\nmove_delay\n\n0.1\n\nlet\n\ntimer\n\n// loop rocket animation\n\nonUpdate\n\n=>\n\ntimer\n\n+=\n\ndt\n\nif\n\ntimer\n\nmove_delay\n\nreturn\n\ntimer\n\nif\n\nplayer\n\nthrusting\n\nplayer\n\nanimation_frame\n\n++\n\nif\n\nplayer\n\nanimation_frame\n\n>=\n\nthrust_animation\n\nlength\n\n// wrap to start\n\nplayer\n\nanimation_frame\n\nThat's it! Run your repl and move your ship around.\n\nShooting\u200b\n\nTo make our ship fire laser bullets, we need to create bullet objects just in front of the ship's nose, and have them travel in the same direction the ship is pointing. Here we can reuse our new pointAt() function. Add the following code beneath the existing movement control code:\n\n// Shooting\n\nonKeyDown\n\n\"space\"\n\n=>\n\nadd\n\nsprite\n\n\"bullet\"\n\npos\n\nplayer\n\npos\n\nadd\n\npointAt\n\nplayer\n\nwidth\n\nplayer\n\nangle\n\nrotate\n\nplayer\n\nangle\n\norigin\n\n\"center\"\n\narea\n\n\"bullet\"\n\n\"mobile\"\n\n\"destructs\"\n\nspeed\n\n100\n\nplay\n\n\"laser\"\n\nHere we're creating a bullet object at the tip of the ship's nose. We calculate the position of the tip by running our pointAt() function with a distance of half the ship sprite's width, and the sprite's angle. We use half the sprite's width because the ship sprite's origin is at its center. Additionally, we rotate the bullet according to the ship's angle (again using center as the origin) and assign a number of tags to it. Note that because we're tagging it with \"mobile\" and giving it both a rotate component and a speed property, it will use the same movement code we wrote for our player object.\n\nTry the game out now, and hold down the spacebar to shoot. Do you notice anything about your ship's firing rate?\n\nAt the moment, a bullet object will be created in every frame while space is down. That's a lot of bullets, and might make the game too easy, as well as slowing it to a crawl on less capable devices. We need to add a cooldown period, and we can do so by altering our shooting code to look like this:\n\n// Shooting\n\nonKeyDown\n\n\"space\"\n\n=>\n\nif\n\nplayer\n\ncan_shoot\n\n// new if statement\n\nadd\n\nsprite\n\n\"bullet\"\n\npos\n\nplayer\n\npos\n\nadd\n\npointAt\n\nplayer\n\nwidth\n\nplayer\n\nangle\n\nrotate\n\nplayer\n\nangle\n\norigin\n\n\"center\"\n\narea\n\n\"bullet\"\n\n\"mobile\"\n\n\"destructs\"\n\nspeed\n\n100\n\nplay\n\n\"laser\"\n\nplayer\n\ncan_shoot\n\nfalse\n\n//\n\nwait\n\nplayer\n\nlaser_cooldown\n\n=>\n\nplayer\n\ncan_shoot\n\ntrue\n\nwait timer to set it to true after\n\nasynchronous callback, the rest of the game can continue while the laser cooldown period passes.\n\nRun your repl and test whether the ship's laser fires at the expected intervals.\n\nThe asteroids\u200b\n\nNow that we've added shooting, we need to add something to shoot at. It's time to create the asteroids this game gets its name from.\n\nCreation\u200b\n\nAdd the following code at the bottom of the main scene:\n\n// Asteroids\n\nconst\n\nNUM_ASTERIODS\n\nfor\n\nlet\n\nNUM_ASTERIODS\n\n++\n\nvar\n\nspawnPoint\n\nasteroidSpawnPoint\n\nvar\n\nadd\n\nsprite\n\n\"asteroid\"\n\npos\n\nspawnPoint\n\nrotate\n\nrand\n\n90\n\norigin\n\n\"center\"\n\narea\n\nsolid\n\n\"asteroid\"\n\n\"mobile\"\n\n\"wraps\"\n\nspeed\n\nrand\n\n10\n\ninitializing\n\ntrue\n\npushOutAll\n\nHere we're creating a constant number of asteroids, and assigning them a random position, direction of movement and speed. The asteroid creation code is largely similar to our player creation code, but with fewer custom properties. One key difference is the presence of the solid component, which marks the asteroid as a solid object that other objects shouldn't be able to pass through.\n\nThe one custom property that's unique to asteroids is initializing. Because we're spawning each asteroid in a random position, there's a chance we might spawn one on top of another, or on top of the player.\n\nOne approach to avoiding this might be to ensure we don't spawn any two asteroids at the same coordinates, but we might still end up spawning them close enough to overlap with each other.", "start_char_idx": 13581, "end_char_idx": 17660, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "5cd46c29-92aa-4214-bbab-aa15c79a3dfc": {"__data__": {"id_": "5cd46c29-92aa-4214-bbab-aa15c79a3dfc", "embedding": null, "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add", "node_type": "4", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "4cd18cf030c2f8c364c72d6f46684979f21969dd941062c82f7f9efdea031d30", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4f3fdeb5-7e3c-4bd2-85e3-5018753f8bc4", "node_type": "1", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "46fd94f521093bd8900c37c7651b4cbdc1df429161e9f220da09c618d74c5f28", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0e271ab3-641e-48d9-a603-47592c52b984", "node_type": "1", "metadata": {}, "hash": "421d664329d0194b853a2bbe86849a1de9a5d4a10eea40fcd2dfe6fe4325f571", "class_name": "RelatedNodeInfo"}}, "hash": "62a06acceaa13154d823d2c65af3ef999a5e3431f6f82ab1adcece1e6f671591", "text": "The asteroid creation code is largely similar to our player creation code, but with fewer custom properties. One key difference is the presence of the solid component, which marks the asteroid as a solid object that other objects shouldn't be able to pass through.\n\nThe one custom property that's unique to asteroids is initializing. Because we're spawning each asteroid in a random position, there's a chance we might spawn one on top of another, or on top of the player.\n\nOne approach to avoiding this might be to ensure we don't spawn any two asteroids at the same coordinates, but we might still end up spawning them close enough to overlap with each other. We would then need to take into account the size of asteroids and prevent asteroids from spawning at any of those coordinates, and our code would quickly become complicated.\n\nInstead of doing that, we can leverage Kaboom's collision detection to achieve the same effect. Right after we create the asteroid, we can check if it's overlapping with another \"mobile\"-tagged object (i.e. another asteroid, or the player's ship), and if so, we randomise its position again. We can use a while loop to repeat this action until our asteroid lands up in a free space. Add the following code inside the asteroid creation for-loop, below the add function:\n\nwhile\n\nisColliding\n\n\"mobile\"\n\nspawnPoint\n\nasteroidSpawnPoint\n\npos\n\nspawnPoint\n\npushOutAll\n\ninitializing\n\nfalse\n\nWe want the asteroid to be in an \"initializing\" state while we're finding its starting position. When we implement its actions later on, we'll check the value of its initializing property to prevent it from harming the player or affecting other asteroids while it's still spawning.\n\nBefore we move on, let's implement the asteroidSpawnPoint() function. Add the following code near the top of the main scene, just beneath the pointAt() function:\n\nfunction\n\nasteroidSpawnPoint\n\n// spawn randomly at the edge of the scene\n\nreturn\n\nchoose\n\nrand\n\nvec2\n\nvec2\n\nwidth\n\nrand\n\nvec2\n\nvec2\n\nheight\n\nrand\n\nvec2\n\nheight\n\nvec2\n\nwidth\n\nheight\n\nrand\n\nvec2\n\nwidth\n\nvec2\n\nwidth\n\nheight\n\nThis function uses Kaboom's choose() and rand() functions to choose a random location on the edge of the scene to spawn an asteroid.\n\nCollisions\u200b\n\nIf you've seen any movies set in outer space, you'll know that the main thing asteroids do is crash into spaceships and each other, even though the real-life asteroid belt in our solar system is not nearly dense enough for asteroid collisions to be a frequent occurrence.\n\nThere are three types of collisions we need to account for:\n\nPlayer and asteroid, which damages the player, causing them to lose a life.\n\nBullet and asteroid, which destroys the asteroid.\n\nAsteroid and asteroid, which causes both asteroids to bounce off each other.\n\nLet's go through the code for each of these, adding it to our main scene just below the code we wrote to make objects wrap around the screen. First, player and asteroid:\n\n// Collisions\n\nonCollide\n\n\"player\"\n\n\"asteroid\"\n\n=>\n\nif\n\ninitializing\n\nlives\n\n--\n\nThis code reduces the player's lives by one as long as the asteroid is not initializing.\n\nNext, add the code for collisions between a bullet and an asteroid:\n\nonCollide\n\n\"bullet\"\n\n\"asteroid\"\n\n=>\n\nif\n\ninitializing\n\ndestroy\n\ndestroy\n\nplay\n\n\"explosion\"\n\nscore\n\n++\n\nThis very simple code destroys both the bullet and the asteroid, plays an explosion sound, and increments the game score.\n\nFinally, add the following to handle asteroid collisions.\n\nonCollide\n\n\"asteroid\"\n\n\"asteroid\"\n\na1\n\na2\n\n=>\n\nif\n\na1\n\ninitializing\n\n||\n\na2\n\ninitializing\n\na1\n\nspeed\n\na1\n\nspeed\n\na2\n\nspeed\n\na2\n\nspeed\n\nThis code makes the asteroids appear to bounce off each other by reversing their movement direction.\n\nRun the game now and see what happens when you ram your ship into some asteroids!\n\nEnding the game\u200b\n\nThe player's ship can now lose lives by crashing into asteroids, but this doesn't mean much at the moment, as we haven't added any code to end the game if the player runs out of lives, or even to display the lives remaining. Let's do that now. First, let's change the code in the player\u2013asteroid collision to trigger a custom \"damage\" event instead of just subtracting a life.", "start_char_idx": 16999, "end_char_idx": 21183, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "0e271ab3-641e-48d9-a603-47592c52b984": {"__data__": {"id_": "0e271ab3-641e-48d9-a603-47592c52b984", "embedding": null, "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add", "node_type": "4", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "4cd18cf030c2f8c364c72d6f46684979f21969dd941062c82f7f9efdea031d30", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5cd46c29-92aa-4214-bbab-aa15c79a3dfc", "node_type": "1", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "62a06acceaa13154d823d2c65af3ef999a5e3431f6f82ab1adcece1e6f671591", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "dd3aa1fc-ae5a-4781-97ee-60159c7c1748", "node_type": "1", "metadata": {}, "hash": "c412cac51f679ca782cb27bca8d1cf949a4b1a77fa1e140d67d401a77b9bec64", "class_name": "RelatedNodeInfo"}}, "hash": "421d664329d0194b853a2bbe86849a1de9a5d4a10eea40fcd2dfe6fe4325f571", "text": "Finally, add the following to handle asteroid collisions.\n\nonCollide\n\n\"asteroid\"\n\n\"asteroid\"\n\na1\n\na2\n\n=>\n\nif\n\na1\n\ninitializing\n\n||\n\na2\n\ninitializing\n\na1\n\nspeed\n\na1\n\nspeed\n\na2\n\nspeed\n\na2\n\nspeed\n\nThis code makes the asteroids appear to bounce off each other by reversing their movement direction.\n\nRun the game now and see what happens when you ram your ship into some asteroids!\n\nEnding the game\u200b\n\nThe player's ship can now lose lives by crashing into asteroids, but this doesn't mean much at the moment, as we haven't added any code to end the game if the player runs out of lives, or even to display the lives remaining. Let's do that now. First, let's change the code in the player\u2013asteroid collision to trigger a custom \"damage\" event instead of just subtracting a life.\n\n// Collisions\n\nonCollide\n\n\"player\"\n\n\"asteroid\"\n\n=>\n\nif\n\ninitializing\n\ntrigger\n\n\"damage\"\n\n// previously lives--\n\nNow we can add the code to handle this event just below the collision code:\n\n// Take damage\n\nplayer\n\non\n\n\"damage\"\n\n=>\n\nplayer\n\nlives\n\n--\n\n// destroy ship if lives finished\n\nif\n\nplayer\n\nlives\n\n<=\n\ndestroy\n\nplayer\n\nWhen objects are destroyed in Kaboom, the \"destroy\" event is triggered. We'll use this event to show a game over screen with the player's score by adding the following code:\n\n// End game on player destruction\n\nplayer\n\non\n\n\"destroy\"\n\n=>\n\nadd\n\ntext\n\nGAME OVER\\n\\nScore:\n\n${\n\nscore\n\n\\n\\n[R]estart?\n\nsize\n\n20\n\npos\n\nwidth\n\nheight\n\nlayer\n\n\"ui\"\n\nWe need to give the player a way to restart the game and try again. Add the following code just below the previous block:\n\n// Restart game\n\nonKeyPress\n\n\"r\"\n\n=>\n\ngo\n\n\"main\"\n\nThe go function is a Kaboom built-in for moving between scenes. As this game only has one scene, we can use it to reset the scene and thus the game to its initial state.\n\nLastly, we need to add the player's lives to the game UI, so they know how much more damage they can afford to take. Find the ui object code near the top of the main scene and alter it to resemble the below:\n\nui\n\non\n\n\"draw\"\n\n=>\n\ndrawText\n\ntext\n\n\"Score: \"\n\nscore\n\nsize\n\n14\n\nfont\n\n\"sink\"\n\npos\n\nvec2\n\n24\n\n// lives (new code below)\n\ndrawText\n\ntext\n\n\"Lives: \"\n\nsize\n\n12\n\nfont\n\n\"sink\"\n\npos\n\nvec2\n\nfor\n\nlet\n\n64\n\n64\n\n16\n\nplayer\n\nlives\n\n+=\n\n16\n\ndrawSprite\n\nsprite\n\n\"ship\"\n\npos\n\nvec2\n\n12\n\nangle\n\n90\n\norigin\n\n\"center\"\n\nscale\n\n0.5\n\nThis code draws a number of scaled down player spaceships equal to the number of remaining lives.\n\nFinal touches\u200b\n\nOur game is fully playable now, but it's still missing some niceties, and one core gameplay feature that you should be able to identify if you've played Asteroids before. In this final section, we'll add the following:\n\nSome background music.\n\nSmaller, faster asteroids that our large asteroids break into when destroyed.\n\nTemporary invulnerability for the player for a few seconds after they take damage.\n\nBackground music\u200b\n\nAdd the following code somewhere in your main scene.\n\n// Background music\n\nconst\n\nmusic\n\nplay\n\n\"Steamtech-Mayhem_Looping\"\n\nmusic\n\nloop\n\nThe first line plays the piece Steamtech Mayhem from Soundimage.org and the second line will ensure that it repeats as long as the game is running.\n\nSmaller asteroids\u200b\n\nTo create smaller asteroids when a large asteroid is destroyed, we'll use a destroy event callback, which will run every time an asteroid is destroyed.", "start_char_idx": 20410, "end_char_idx": 23710, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "dd3aa1fc-ae5a-4781-97ee-60159c7c1748": {"__data__": {"id_": "dd3aa1fc-ae5a-4781-97ee-60159c7c1748", "embedding": null, "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add", "node_type": "4", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "4cd18cf030c2f8c364c72d6f46684979f21969dd941062c82f7f9efdea031d30", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0e271ab3-641e-48d9-a603-47592c52b984", "node_type": "1", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "421d664329d0194b853a2bbe86849a1de9a5d4a10eea40fcd2dfe6fe4325f571", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "061da929-1621-40b4-8e6c-2c02039d9727", "node_type": "1", "metadata": {}, "hash": "4e5cfd15147c885afd429e4894bb14c450ec65293d5648351be9dfd42a616235", "class_name": "RelatedNodeInfo"}}, "hash": "c412cac51f679ca782cb27bca8d1cf949a4b1a77fa1e140d67d401a77b9bec64", "text": "Final touches\u200b\n\nOur game is fully playable now, but it's still missing some niceties, and one core gameplay feature that you should be able to identify if you've played Asteroids before. In this final section, we'll add the following:\n\nSome background music.\n\nSmaller, faster asteroids that our large asteroids break into when destroyed.\n\nTemporary invulnerability for the player for a few seconds after they take damage.\n\nBackground music\u200b\n\nAdd the following code somewhere in your main scene.\n\n// Background music\n\nconst\n\nmusic\n\nplay\n\n\"Steamtech-Mayhem_Looping\"\n\nmusic\n\nloop\n\nThe first line plays the piece Steamtech Mayhem from Soundimage.org and the second line will ensure that it repeats as long as the game is running.\n\nSmaller asteroids\u200b\n\nTo create smaller asteroids when a large asteroid is destroyed, we'll use a destroy event callback, which will run every time an asteroid is destroyed. Add the following code to the bottom of your main scene:\n\n// Asteroid destruction\n\non\n\n\"destroy\"\n\n\"asteroid\"\n\n=>\n\nif\n\nis\n\n\"small\"\n\n// create four smaller asteroids at each corner of the large one\n\npositions\n\npos\n\nadd\n\nvec2\n\nwidth\n\nheight\n\npos\n\nadd\n\nvec2\n\nwidth\n\nheight\n\npos\n\nadd\n\nvec2\n\nwidth\n\nheight\n\npos\n\nadd\n\nvec2\n\nwidth\n\nheight\n\n// small asteroids move out from the center of the explosion\n\nrotations\n\n16\n\n34\n\n65\n\n87\n\nfor\n\nlet\n\npositions\n\nlength\n\n++\n\nvar\n\nadd\n\nsprite\n\nasteroid_small\n\n${\n\npos\n\npositions\n\nrotate\n\nrotations\n\norigin\n\n\"center\"\n\narea\n\nsolid\n\n\"asteroid\"\n\n\"small\"\n\n\"mobile\"\n\n\"wraps\"\n\nspeed\n\nrand\n\n15\n\n25\n\ninitializing\n\nfalse\n\npushOutAll\n\nOur small asteroids are mostly similar to our large ones. Differences include the addition of the small tag, the less random approach to initial placement, the higher speed, and the selection of one of four different possible small asteroid sprites.\n\nTo make our game true to the original Asteroids, we should give the player more points for destroying these fast, small asteroids. Find and modify the bullet\u2013asteroid collision code as below:\n\nonCollide\n\n\"bullet\"\n\n\"asteroid\"\n\n=>\n\nif\n\ninitializing\n\ndestroy\n\ndestroy\n\nplay\n\n\"explosion\"\n\nscore\n\nis\n\n\"small\"\n\nscore\n\nscore\n\n++\n\n// 2 points for small, 1 for big\n\nTemporary invulnerability\u200b\n\nA nice touch to make our game a little more forgiving is temporary invulnerability for the player after they lose a life. We can add this by finding and altering the player's damage event callback as follows:\n\n// Take damage\n\nplayer\n\non\n\n\"damage\"\n\n=>\n\nif\n\nplayer\n\ninvulnerable\n\n// new if statement\n\nplayer\n\nlives\n\n--\n\n// destroy ship if lives finished\n\nif\n\nplayer\n\nlives\n\n<=\n\ndestroy\n\nplayer\n\n// new code\n\nelse\n\n// Temporary invulnerability\n\nplayer\n\ninvulnerable\n\ntrue\n\nwait\n\nplayer\n\ninvulnerablity_time\n\n=>\n\nplayer\n\ninvulnerable\n\nfalse\n\nplayer\n\nhidden\n\nfalse\n\nHere we're making the player invulnerable and then using a wait callback to make them vulnerable again after a given number of seconds, similar to what we did for the laser timeout. We're also making sure the player is visible by setting player.hidden to false, because the way we're going to indicate the player's invulnerability is by having their ship flash rapidly. Find and update the onUpdate event callback we added earlier for rocket thrust animation :\n\nonUpdate\n\n=>\n\ntimer\n\n+=\n\ndt\n\nif\n\ntimer\n\nmove_delay\n\nreturn\n\ntimer\n\nif\n\nplayer\n\nthrusting\n\nplayer\n\nanimation_frame\n\n++\n\nif\n\nplayer\n\nanimation_frame\n\n>=\n\nthrust_animation\n\nlength\n\n// wrap to start\n\nplayer\n\nanimation_frame\n\n// new if statement\n\nif\n\nplayer\n\ninvulnerable\n\nplayer\n\nhidden\n\nplayer\n\nhidden\n\nWhere to next?\u200b\n\nWe've covered a lot of ground in this tutorial and touched on a lot of Kaboom's features. From here, you can start making your own games with Kaboom, or if you want to extend this one, here are some ideas:\n\nPower-ups, such as extra lives and time-limited weapon upgrades.\n\nEnemy spaceships that fire at the player.\n\nA third, even smaller size of asteroid.\n\nMore animations, for explosions and laser firing.\n\nYou can find the game repl below:\n\n< Previous: 3D game with Kaboom.js\n\nNext: Breakout with Kaboom.js >\n\nWas this helpful?", "start_char_idx": 22812, "end_char_idx": 26868, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "061da929-1621-40b4-8e6c-2c02039d9727": {"__data__": {"id_": "061da929-1621-40b4-8e6c-2c02039d9727", "embedding": null, "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add", "node_type": "4", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "4cd18cf030c2f8c364c72d6f46684979f21969dd941062c82f7f9efdea031d30", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "dd3aa1fc-ae5a-4781-97ee-60159c7c1748", "node_type": "1", "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}, "hash": "c412cac51f679ca782cb27bca8d1cf949a4b1a77fa1e140d67d401a77b9bec64", "class_name": "RelatedNodeInfo"}}, "hash": "4e5cfd15147c885afd429e4894bb14c450ec65293d5648351be9dfd42a616235", "text": "From here, you can start making your own games with Kaboom, or if you want to extend this one, here are some ideas:\n\nPower-ups, such as extra lives and time-limited weapon upgrades.\n\nEnemy spaceships that fire at the player.\n\nA third, even smaller size of asteroid.\n\nMore animations, for explosions and laser firing.\n\nYou can find the game repl below:\n\n< Previous: 3D game with Kaboom.js\n\nNext: Breakout with Kaboom.js >\n\nWas this helpful?\n\nLast updated on Aug 31, 2023\n\nCreating a new project and loading assets\n\nSetting up Kaboom\n\nSetting the scene\n\nThe player's shipMovement controlsMovementRocket animationShooting\n\nThe asteroidsCreationCollisions\n\nEnding the game\n\nFinal touchesBackground musicSmaller asteroidsTemporary invulnerability\n\nWhere to next?", "start_char_idx": 26429, "end_char_idx": 27186, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}}, "docstore/ref_doc_info": {"db2410a7-b9e6-48cd-93f9-1840d6bb7add": {"node_ids": ["71c462c9-c8fc-4df6-8e09-e457858de415", "7a426364-f1f8-4b2d-87ad-3073b074e25f", "cb97eba0-b138-485f-9b46-8edb3f308152", "98e18ea1-1b92-4bb4-bc71-1dfda50474d8", "4f3fdeb5-7e3c-4bd2-85e3-5018753f8bc4", "5cd46c29-92aa-4214-bbab-aa15c79a3dfc", "0e271ab3-641e-48d9-a603-47592c52b984", "dd3aa1fc-ae5a-4781-97ee-60159c7c1748", "061da929-1621-40b4-8e6c-2c02039d9727"], "metadata": {"path": "/home/runner/replit-docs-qa-with-llamaindex/docs.replit.com/tutorials/kaboom/build-asteroids-with-kaboom.html"}}}, "docstore/metadata": {"71c462c9-c8fc-4df6-8e09-e457858de415": {"doc_hash": "f435a29145451269fda5f8ea37b1b0306f6036d28599d838c990ff2478b9f30e", "ref_doc_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add"}, "7a426364-f1f8-4b2d-87ad-3073b074e25f": {"doc_hash": "5906ba985e74e39c7172ecaa48fe2784e6c7df79ef4621f98d2e60ae9de88a81", "ref_doc_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add"}, "cb97eba0-b138-485f-9b46-8edb3f308152": {"doc_hash": "12f24469468af3fab242a791ee3e5509fd7378249317ad1b6a1bbd50e3574339", "ref_doc_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add"}, "98e18ea1-1b92-4bb4-bc71-1dfda50474d8": {"doc_hash": "d71b1e9ea16563769034da748628211296234529016bf3634a40aa7ef26e583c", "ref_doc_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add"}, "4f3fdeb5-7e3c-4bd2-85e3-5018753f8bc4": {"doc_hash": "46fd94f521093bd8900c37c7651b4cbdc1df429161e9f220da09c618d74c5f28", "ref_doc_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add"}, "5cd46c29-92aa-4214-bbab-aa15c79a3dfc": {"doc_hash": "62a06acceaa13154d823d2c65af3ef999a5e3431f6f82ab1adcece1e6f671591", "ref_doc_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add"}, "0e271ab3-641e-48d9-a603-47592c52b984": {"doc_hash": "421d664329d0194b853a2bbe86849a1de9a5d4a10eea40fcd2dfe6fe4325f571", "ref_doc_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add"}, "dd3aa1fc-ae5a-4781-97ee-60159c7c1748": {"doc_hash": "c412cac51f679ca782cb27bca8d1cf949a4b1a77fa1e140d67d401a77b9bec64", "ref_doc_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add"}, "061da929-1621-40b4-8e6c-2c02039d9727": {"doc_hash": "4e5cfd15147c885afd429e4894bb14c450ec65293d5648351be9dfd42a616235", "ref_doc_id": "db2410a7-b9e6-48cd-93f9-1840d6bb7add"}}}